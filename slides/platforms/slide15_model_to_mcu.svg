<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg
   viewBox="0 0 1400 800"
   version="1.1"
   id="svg57"
   sodipodi:docname="slide15_model_to_mcu.svg"
   inkscape:version="1.4.2 (ebf0e940d0, 2025-05-08)"
   inkscape:export-filename="slide15_model_to_mcu.png"
   inkscape:export-xdpi="96"
   inkscape:export-ydpi="96"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:svg="http://www.w3.org/2000/svg">
  <defs
     id="defs57" />
  <sodipodi:namedview
     id="namedview57"
     pagecolor="#ffffff"
     bordercolor="#000000"
     borderopacity="0.25"
     inkscape:showpageshadow="2"
     inkscape:pageopacity="0.0"
     inkscape:pagecheckerboard="0"
     inkscape:deskcolor="#d1d1d1"
     inkscape:zoom="0.86857143"
     inkscape:cx="700"
     inkscape:cy="399.50658"
     inkscape:window-width="1920"
     inkscape:window-height="1043"
     inkscape:window-x="0"
     inkscape:window-y="0"
     inkscape:window-maximized="1"
     inkscape:current-layer="svg57" />
  <!-- Background -->
  <rect
     width="1400"
     height="800"
     fill="#ffffff"
     id="rect1" />
  <!-- Title -->
  <text
     x="100"
     y="80"
     font-family="Arial, sans-serif"
     font-size="52"
     font-weight="bold"
     fill="#1a1a1a"
     id="text1">
    FROM MODEL TO MICROCONTROLLER
  </text>
  <!-- Subtitle -->
  <text
     x="100"
     y="130"
     font-family="Arial, sans-serif"
     font-size="24"
     font-weight="600"
     fill="#9C27B0"
     id="text2">
    HANDS-ON UNDERSTANDING
  </text>
  <!-- Complete Workflow Title -->
  <text
     x="100"
     y="190"
     font-family="Arial, sans-serif"
     font-size="28"
     font-weight="bold"
     fill="#9C27B0"
     id="text3">
    Complete Workflow
  </text>
  <!-- Step 1: Data Collection -->
  <rect
     x="100"
     y="220"
     width="200"
     height="90"
     fill="#f3e5f5"
     stroke="#9c27b0"
     stroke-width="2"
     rx="6"
     id="rect3" />
  <circle
     cx="130"
     cy="250"
     r="18"
     fill="#9c27b0"
     id="circle3" />
  <text
     x="130"
     y="258"
     font-family="Arial, sans-serif"
     font-size="20px"
     font-weight="bold"
     text-anchor="middle"
     fill="#ffffff"
     id="text4">1</text>
  <text
     x="160"
     y="250"
     font-family="Arial, sans-serif"
     font-size="16px"
     font-weight="bold"
     fill="#7b1fa2"
     id="text5">Data Collection</text>
  <text
     x="113.84869"
     y="281.9079"
     font-family="Arial, sans-serif"
     font-size="12px"
     fill="#2c3e50"
     id="text6">Sensors → CSV/Audio</text>
  <text
     x="113.84869"
     y="298.9079"
     font-family="Arial, sans-serif"
     font-size="12px"
     fill="#2c3e50"
     id="text7">Images/Time-series</text>
  <!-- Arrow Down -->
  <path
     d="M 200,315 L 200,335"
     stroke="#9C27B0"
     stroke-width="3"
     fill="none"
     id="path7" />
  <path
     d="M 195,330 L 200,335 L 205,330"
     fill="#9C27B0"
     id="path8" />
  <!-- Step 2: Training -->
  <rect
     x="100"
     y="340"
     width="200"
     height="90"
     fill="#f3e5f5"
     stroke="#9c27b0"
     stroke-width="2"
     rx="6"
     id="rect8" />
  <circle
     cx="130"
     cy="370"
     r="18"
     fill="#9c27b0"
     id="circle8" />
  <text
     x="130"
     y="378"
     font-family="Arial, sans-serif"
     font-size="20px"
     font-weight="bold"
     text-anchor="middle"
     fill="#ffffff"
     id="text8">2</text>
  <text
     x="160"
     y="370"
     font-family="Arial, sans-serif"
     font-size="16px"
     font-weight="bold"
     fill="#7b1fa2"
     id="text9">Training</text>
  <text
     x="116.15131"
     y="401.9079"
     font-family="Arial, sans-serif"
     font-size="12px"
     fill="#2c3e50"
     id="text10">Python/TensorFlow</text>
  <text
     x="115"
     y="418.9079"
     font-family="Arial, sans-serif"
     font-size="12px"
     fill="#2c3e50"
     id="text11">Trained Model (.h5)</text>
  <!-- Arrow Down -->
  <path
     d="M 200,435 L 200,455"
     stroke="#9C27B0"
     stroke-width="3"
     fill="none"
     id="path11" />
  <path
     d="M 195,450 L 200,455 L 205,450"
     fill="#9C27B0"
     id="path12" />
  <!-- Step 3: Quantization -->
  <rect
     x="100"
     y="460"
     width="200"
     height="90"
     fill="#f3e5f5"
     stroke="#9c27b0"
     stroke-width="2"
     rx="6"
     id="rect12" />
  <circle
     cx="130"
     cy="490"
     r="18"
     fill="#9c27b0"
     id="circle12" />
  <text
     x="130"
     y="498"
     font-family="Arial, sans-serif"
     font-size="20px"
     font-weight="bold"
     text-anchor="middle"
     fill="#ffffff"
     id="text12">3</text>
  <text
     x="160"
     y="490"
     font-family="Arial, sans-serif"
     font-size="16px"
     font-weight="bold"
     fill="#7b1fa2"
     id="text13">Quantization</text>
  <text
     x="111"
     y="521"
     font-family="Arial, sans-serif"
     font-size="12px"
     fill="#2c3e50"
     id="text14">Post-training quant.</text>
  <text
     x="115"
     y="538"
     font-family="Arial, sans-serif"
     font-size="12px"
     fill="#2c3e50"
     id="text15">FP32 → INT8</text>
  <!-- Arrow Down -->
  <path
     d="M 200,555 L 200,575"
     stroke="#9C27B0"
     stroke-width="3"
     fill="none"
     id="path15" />
  <path
     d="M 195,570 L 200,575 L 205,570"
     fill="#9C27B0"
     id="path16" />
  <!-- Step 4: Conversion -->
  <rect
     x="100"
     y="580"
     width="200"
     height="90"
     fill="#f3e5f5"
     stroke="#9c27b0"
     stroke-width="2"
     rx="6"
     id="rect16" />
  <circle
     cx="130"
     cy="610"
     r="18"
     fill="#9c27b0"
     id="circle16" />
  <text
     x="130"
     y="618"
     font-family="Arial, sans-serif"
     font-size="20px"
     font-weight="bold"
     text-anchor="middle"
     fill="#ffffff"
     id="text16">4</text>
  <text
     x="160"
     y="610"
     font-family="Arial, sans-serif"
     font-size="16px"
     font-weight="bold"
     fill="#7b1fa2"
     id="text17">Conversion</text>
  <text
     x="115"
     y="639"
     font-family="Arial, sans-serif"
     font-size="12px"
     fill="#2c3e50"
     id="text18">TFLite Converter</text>
  <text
     x="115"
     y="658"
     font-family="Arial, sans-serif"
     font-size="12px"
     fill="#2c3e50"
     id="text19">→ .tflite file</text>
  <!-- Arrow Right from step 1 -->
  <path
     d="M 305,265 L 355,265"
     stroke="#9C27B0"
     stroke-width="3"
     fill="none"
     id="path19" />
  <path
     d="M 350,260 L 355,265 L 350,270"
     fill="#9C27B0"
     id="path20" />
  <!-- Step 5: C Array Generation -->
  <rect
     x="360"
     y="220"
     width="200"
     height="90"
     fill="#f3e5f5"
     stroke="#9c27b0"
     stroke-width="2"
     rx="6"
     id="rect20" />
  <circle
     cx="390"
     cy="250"
     r="18"
     fill="#9c27b0"
     id="circle20" />
  <text
     x="390"
     y="258"
     font-family="Arial, sans-serif"
     font-size="20px"
     font-weight="bold"
     text-anchor="middle"
     fill="#ffffff"
     id="text20">5</text>
  <text
     x="420"
     y="250"
     font-family="Arial, sans-serif"
     font-size="16px"
     font-weight="bold"
     fill="#7b1fa2"
     id="text21">C Array Gen</text>
  <text
     x="375"
     y="281"
     font-family="Arial, sans-serif"
     font-size="11px"
     fill="#2c3e50"
     id="text22">xxd -i model.tflite</text>
  <text
     x="454.4408"
     y="292.54605"
     font-family="Arial, sans-serif"
     font-size="12px"
     fill="#2c3e50"
     id="text23">→ model_data.cc</text>
  <!-- Arrow Down from step 5 -->
  <path
     d="M 460,315 L 460,335"
     stroke="#9C27B0"
     stroke-width="3"
     fill="none"
     id="path23" />
  <path
     d="M 455,330 L 460,335 L 465,330"
     fill="#9C27B0"
     id="path24" />
  <!-- Step 6: Deployment -->
  <rect
     x="360"
     y="340"
     width="200"
     height="90"
     fill="#f3e5f5"
     stroke="#9c27b0"
     stroke-width="2"
     rx="6"
     id="rect24" />
  <circle
     cx="390"
     cy="370"
     r="18"
     fill="#9c27b0"
     id="circle24" />
  <text
     x="390"
     y="378"
     font-family="Arial, sans-serif"
     font-size="20px"
     font-weight="bold"
     text-anchor="middle"
     fill="#ffffff"
     id="text24">6</text>
  <text
     x="420"
     y="370"
     font-family="Arial, sans-serif"
     font-size="16px"
     font-weight="bold"
     fill="#7b1fa2"
     id="text25">Deployment</text>
  <text
     x="375"
     y="401"
     font-family="Arial, sans-serif"
     font-size="12px"
     fill="#2c3e50"
     id="text26">Flash to MCU</text>
  <text
     x="373"
     y="418"
     font-family="Arial, sans-serif"
     font-size="12px"
     fill="#2c3e50"
     id="text27">Running inference</text>
  <!-- Code Example Box -->
  <g
     transform="translate(600, 220)"
     id="g45">
    <rect
       x="0"
       y="0"
       width="680"
       height="450"
       fill="#F5F5F5"
       stroke="#9C27B0"
       stroke-width="2"
       rx="6"
       id="rect27" />
    <text
       x="20"
       y="30"
       font-family="Arial, sans-serif"
       font-size="18"
       font-weight="bold"
       fill="#7B1FA2"
       id="text28">
      Code Example: Conversion to TFLite
    </text>
    <!-- Code background -->
    <rect
       x="20"
       y="45"
       width="640"
       height="385"
       fill="#2C3E50"
       rx="4"
       id="rect28" />
    <!-- Python code -->
    <text
       x="35"
       y="75"
       font-family="Consolas, monospace"
       font-size="13"
       fill="#4CAF50"
       id="text29">
      # Convert to TFLite
    </text>
    <text
       x="35"
       y="95"
       font-family="Consolas, monospace"
       font-size="13"
       fill="#FFFFFF"
       id="text30">
      converter = tf.lite.TFLiteConverter.from_keras_model(model)
    </text>
    <text
       x="35"
       y="115"
       font-family="Consolas, monospace"
       font-size="13"
       fill="#FFFFFF"
       id="text31">
      converter.optimizations = [tf.lite.Optimize.DEFAULT]
    </text>
    <text
       x="35"
       y="135"
       font-family="Consolas, monospace"
       font-size="13"
       fill="#FFFFFF"
       id="text32">
      tflite_model = converter.convert()
    </text>
    <text
       x="35"
       y="165"
       font-family="Consolas, monospace"
       font-size="13"
       fill="#4CAF50"
       id="text33">
      # Save model
    </text>
    <text
       x="35"
       y="185"
       font-family="Consolas, monospace"
       font-size="13"
       fill="#FFFFFF"
       id="text34">
      with open('model.tflite', 'wb') as f:
    </text>
    <text
       x="35"
       y="205"
       font-family="Consolas, monospace"
       font-size="13"
       fill="#FFFFFF"
       id="text35">
          f.write(tflite_model)
    </text>
    <text
       x="35"
       y="235"
       font-family="Consolas, monospace"
       font-size="13"
       fill="#4CAF50"
       id="text36">
      # Generate C array
    </text>
    <text
       x="35"
       y="255"
       font-family="Consolas, monospace"
       font-size="13"
       fill="#FF9800"
       id="text37">
      $ xxd -i model.tflite &gt; model_data.cc
    </text>
    <text
       x="35"
       y="285"
       font-family="Consolas, monospace"
       font-size="13"
       fill="#4CAF50"
       id="text38">
      # Result: C array ready for MCU
    </text>
    <text
       x="35"
       y="305"
       font-family="Consolas, monospace"
       font-size="13"
       fill="#FFFFFF"
       id="text39">
      unsigned char model_tflite[] = {
    </text>
    <text
       x="35"
       y="325"
       font-family="Consolas, monospace"
       font-size="13"
       fill="#FFFFFF"
       id="text40">
        0x1c, 0x00, 0x00, 0x00, 0x54, 0x46, ...
    </text>
    <text
       x="35"
       y="345"
       font-family="Consolas, monospace"
       font-size="13"
       fill="#FFFFFF"
       id="text41">
      };
    </text>
    <text
       x="35"
       y="365"
       font-family="Consolas, monospace"
       font-size="13"
       fill="#FFFFFF"
       id="text42">
      unsigned int model_tflite_len = 10240;
    </text>
    <!-- Bottom info -->
    <rect
       x="20"
       y="445"
       width="640"
       height="2"
       fill="#9C27B0"
       id="rect42" />
    <text
       x="35"
       y="470"
       font-family="Arial, sans-serif"
       font-size="12"
       fill="#666666"
       id="text43">
      Model size reduced: FP32 (40KB) → INT8 (10KB) → 4× compression
    </text>
    <text
       x="35"
       y="490"
       font-family="Arial, sans-serif"
       font-size="12"
       fill="#666666"
       id="text44">
      Inference speed: ~8ms on Cortex-M4 @ 64MHz
    </text>
    <text
       x="35"
       y="510"
       font-family="Arial, sans-serif"
       font-size="12"
       fill="#666666"
       id="text45">
      Memory footprint: 12KB RAM, 10KB Flash
    </text>
  </g>
  <!-- Key Benefits Box -->
  <g
     transform="translate(360, 460)"
     id="g54">
    <rect
       x="0"
       y="0"
       width="200"
       height="210"
       fill="#E8F5E9"
       stroke="#4CAF50"
       stroke-width="2"
       rx="6"
       id="rect45" />
    <text
       x="100"
       y="25"
       font-family="Arial, sans-serif"
       font-size="14"
       font-weight="bold"
       text-anchor="middle"
       fill="#2E7D32"
       id="text46">
      Key Benefits
    </text>
    <text
       x="15"
       y="50"
       font-family="Arial, sans-serif"
       font-size="12"
       fill="#2C3E50"
       id="text47">
      ✓ 4× smaller models
    </text>
    <text
       x="15"
       y="70"
       font-family="Arial, sans-serif"
       font-size="12"
       fill="#2C3E50"
       id="text48">
      ✓ 3-4× faster inference
    </text>
    <text
       x="15"
       y="90"
       font-family="Arial, sans-serif"
       font-size="12"
       fill="#2C3E50"
       id="text49">
      ✓ Lower power usage
    </text>
    <text
       x="15"
       y="110"
       font-family="Arial, sans-serif"
       font-size="12"
       fill="#2C3E50"
       id="text50">
      ✓ Minimal accuracy loss
    </text>
    <text
       x="15"
       y="130"
       font-family="Arial, sans-serif"
       font-size="12"
       fill="#2C3E50"
       id="text51">
      ✓ Edge deployment ready
    </text>
    <rect
       x="10"
       y="145"
       width="180"
       height="2"
       fill="#4CAF50"
       opacity="0.3"
       id="rect51" />
    <text
       x="15"
       y="165"
       font-family="Arial, sans-serif"
       font-size="11"
       font-style="italic"
       fill="#666666"
       id="text52">
      Typical accuracy drop:
    </text>
    <text
       x="15"
       y="182"
       font-family="Arial, sans-serif"
       font-size="11"
       font-style="italic"
       fill="#666666"
       id="text53">
      &lt;1% for most models
    </text>
    <text
       x="15"
       y="199"
       font-family="Arial, sans-serif"
       font-size="11"
       font-style="italic"
       fill="#666666"
       id="text54">
      with INT8 quantization
    </text>
  </g>
  <!-- Bottom Note -->
  <g
     transform="translate(15.953947,708.84868)"
     id="g56">
    <text
       x="0"
       y="0"
       font-family="Arial, sans-serif"
       font-size="16px"
       font-weight="bold"
       fill="#9c27b0"
       id="text55">Note:</text>
    <text
       x="60"
       y="0"
       font-family="Arial, sans-serif"
       font-size="14px"
       fill="#666666"
       id="text56">Always profile your model on target hardware to verify performance meets requirements</text>
  </g>
  <!-- Watermark -->
  <text
     x="1250"
     y="780"
     font-family="Arial, sans-serif"
     font-size="14"
     fill="#bbbbbb"
     id="text57">@Alnemari</text>
</svg>
